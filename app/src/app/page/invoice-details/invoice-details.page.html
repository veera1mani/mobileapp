<ion-header>
  <ion-row  class="background tool_bar">
    <ion-card class="back_bg" (click)="backNav()">
      <ion-icon class="back_icon" name="chevron-back-outline"></ion-icon>
    </ion-card>
    <ion-text class="toolbar_text">
      Pick List
    </ion-text>    
  </ion-row>   
   
  <ion-row class="background tool_bar">
    <ion-col size="10" >
      <p class="limited-text">{{tenantName}}</p>
    </ion-col> 
    <ion-col>
      <!-- <ion-text class="counts">{{selectedItems}}/{{pickingProductList.length}}</ion-text> -->
      <ion-text class="counts">{{selectedItems}}/{{productList.length}}</ion-text>
    </ion-col> 
  </ion-row>
</ion-header>


<ion-content >
   

  


    <!-- *ngFor="let letter of alphabet" [id]="'index_' + letter" -->
    <!-- <ion-row >  -->
      <!-- <ion-item-divider>
        {{letter}}
      </ion-item-divider> -->
      <!-- <ion-col size="16" *ngFor="let author of sorted_users[letter]">
       {{ author.name }} {{ author.isSelected }}
      </ion-col> -->
      <!-- *ngFor="let letter of alphabet" [id]="'index_' + letter" -->
      
      <!-- <div class="accordion-container space-y-4">
        <div *ngFor="let location of groupedLocation" class="accordion" >
          <div class="accordion-header bg-orange-200 p-4 cursor-pointer flex justify-between items-center" (click)="toggleAccordion(location)">
            <span class="font-semibold text-lg">{{ location }} ready to check</span>
            <span>
              <ion-icon 
                name="chevron-down-outline" 
                class="w-6 h-6 transform transition-transform duration-300" 
                [ngClass]="isAccordionOpen(location) ? 'rotate-180' : 'rotate-0'">
              </ion-icon>
            </span>
          </div>
          <div class="accordion-content bg-orange-200 overflow-hidden transition-all duration-300" [style.max-height]="isAccordionOpen(location) ? '1000px' : '0'">
            <div class="p-4 space-y-2">
              
              <ion-card class="list" *ngFor="let item of groupedCheckingProducts[location];let idx = index;"   >
                <ion-card-content [style.background-color]="item.quantity === item.pickItems ? 'orange' : 'white'" >
                  <ion-row>
                    <ion-col>
                      <ion-text>{{item.productName}}</ion-text>
                    </ion-col>
                    <ion-col >
                      <ion-text style="float: right; padding-right: 5%;" >{{item.expiryDate}}</ion-text>
                    </ion-col>
                  </ion-row>
                  <ion-row>
                    <ion-col>
                      <ion-text>MRP : {{item.mrp}}</ion-text>
                    </ion-col>
                    <ion-col *ngIf="item.bin" >
                      <ion-text>Bin : {{item.bin}}</ion-text>
                    </ion-col>          
                    <ion-col >
                      <ion-text>{{item.location}}</ion-text>
                    </ion-col>
                    <ion-col style="display: flex;">
                      <ion-text>B: {{item.batchNumber}}</ion-text>
                    </ion-col>
                  </ion-row>
                  <ion-row >
                    <ion-col size="3" style="margin-top: 12px;">
                      <ion-text>QTY: {{item.quantity}}</ion-text>
                    </ion-col>
                    <ion-col size="8">
                      <ion-text class="txt_helper">picked qty : </ion-text>
                      <input  type="number"  class="input"  placeholder="0" [value]="item?.pickItems"   (input)="input($event,item,idx)">
                    </ion-col>
                  </ion-row>
                </ion-card-content>
              </ion-card>
              <div class="btn" *ngIf="partialCheck">
                <ion-button  (click)="partialCheckSave(groupedCheckingProducts[location])"  class="butn" >Check</ion-button>
              </div>
            </div>
          </div>
        </div>
      </div> -->
      
      
      
    <div  *ngIf="productList.length >0">
       <ion-card class="list"  *ngFor="let item of productList" (click)="toggleChecked(item)" >
        <ion-card-content [style.background-color]="item.checked ? 'orange' : 'white'" >         
          <ion-row>
            <ion-col size="8">
              <ion-text>{{item.productName}}</ion-text>
            </ion-col>
            <ion-col>
              <ion-text>{{item.location}}</ion-text>
            </ion-col>            
          </ion-row>
          <ion-row> 
            <ion-col>
              <ion-text>B : {{item.batchNumber}}</ion-text>
            </ion-col>            
            <ion-col style="display: flex;">
              <ion-text>MRP:{{item.mrp}}</ion-text>
            </ion-col>
            <ion-col>
              <ion-text>Qty:{{item.quantity}}</ion-text>
            </ion-col>
            <ion-col *ngIf="item.bin">
              <ion-text>BIN:{{item.bin}}</ion-text>
            </ion-col>
          </ion-row>
        </ion-card-content>
      </ion-card> 
    
      <!-- <ion-col>
              <ion-checkbox class="checkbox"  [(ngModel)]="item.checked" (ionChange)="checkboxChanged($event,item)" ></ion-checkbox>            
            </ion-col> -->
      <!-- </ion-row> -->

      <!-- <div style="margin-top: auto; margin-bottom: auto;">
        <div class="alpha_sidebar"  >
            <div class="letters" (click)="gotoList('index_' + letter)" *ngFor="let letter of alphabet" >
              {{ letter }}
            </div>
          </div>
        </div> -->

       
        
      <!-- <div class="btn" *ngIf="partialPick" >
        <ion-button class="butn" (click)="partialSave()">Forward to check {{location}}</ion-button>
      </div>   -->

      <div class="btn" *ngIf=" productList.length > 0 &&  selectedItems === productList.length ">
        <ion-button (click)="picked('PICKED')" [disabled]="false" class="butn" >PICK</ion-button>
      </div> 
      <div class="btn" *ngIf=" productList.length === 0 || selectedItems !== productList.length ">
        <ion-button [disabled]="true" class="butn">PICK</ion-button>
      </div> 
    </div>  
    <div *ngIf="productList.length ===0 "  class="no-data-container" >
      <h1 class="no-data-message">No data found</h1>
    </div>


 </ion-content>




